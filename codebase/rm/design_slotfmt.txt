A data page needs to organize records by altering, moving, and relocating records.
This must be done without modifying the Record IDs (page_num, slot_num).

The Slotted Page Format will help deal with these issues.

Note the following distinction between free vs. unused space:
- free space refers to the amount of contiguous free space, after the records.
- unused space refers to the amount of unused space regardless of fragmentation.


Slotted Page Format:
- The slotted page format has three classes of data that require management:
  * records
  * slot directory
  * unused space

- The slot directory has the following information:
  * 2 bytes: offset to start of free space (2 bytes)
  * 2 bytes: number of slots (2 bytes)

  * For each slot:
      2 bytes: offset to start of record

- The slot directory grows from the end of the page towards the start of the page.

- Initially the free space begins at the top of the page, at offset 0.

- When a record is inserted, the following may occur:
  1. There is enough free space for a new slot and the record.
     Steps:
       * Update slot count
       * Insert slot
       * Insert new record
       * Update unused space in control page.

  2. There is not enough free space, but enough unused space for a new slot and record.
     Steps:
       * Compact page
       * Update slot count
       * Insert slot
       * Insert new record
       * Update unused space in control page.

  3. There is not enough free or unused space:
     This case shouldn't occur if inserts find the first page with available unused space in the control page.


- When a record is altered, the following may occur:
  1. Record size shrinks.
     Steps:
       * Update unused space in control page.

  2. Record size grows. Enough free space available:
     Steps:
       * Move record to free space.
       * Update slot offset.
       * Update unused space in control page.

  3. Record size grows. Enough unused space:
     Steps:
       * Compact page
       * Move record to free space.
       * Update slot offset.
       * Update unused space in control page.

  4. Record size grows. Not enough free/unused space:
     Steps:
       * Find first page with free space.
       * Insert record.
       * Write RID for tuple redirection.
       * Update unused spacein control page.

- When a record is deleted, update offset to 4096 (or some other way to say its deleted), and updateunused space in control page.
